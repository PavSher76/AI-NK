# üéì –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±—É—á–µ–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã AI-NK –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ AI-NK –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –∫ –æ–±—É—á–µ–Ω–∏—é, —Å–æ—á–µ—Ç–∞—é—â–∏–π:
- **RAG (Retrieval-Augmented Generation)** - –ø–æ–∏—Å–∫ –ø–æ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
- **Fine-tuning –ø—Ä–æ–º–ø—Ç–æ–≤** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è LLM
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## üéØ –¶–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

1. **–ü–æ–≤—ã—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏** - –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
2. **–ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
3. **–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç—á–µ—Ç–æ–≤** - –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏ –ø–æ–ª–µ–∑–Ω—ã–µ –≤—ã–≤–æ–¥—ã
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –±—ã—Å—Ç—Ä–∞—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—É—á–µ–Ω–∏—è

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –æ–±—É—á–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ   ‚îÇ    ‚îÇ   –ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ   ‚îÇ    ‚îÇ   –û–±—Ä–∞—Ç–Ω–∞—è      ‚îÇ
‚îÇ   –¥–æ–∫—É–º–µ–Ω—Ç—ã     ‚îÇ    ‚îÇ   –¥–æ–∫—É–º–µ–Ω—Ç—ã     ‚îÇ    ‚îÇ   —Å–≤—è–∑—å         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚ñº                       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   RAG Service   ‚îÇ    ‚îÇ  Document       ‚îÇ    ‚îÇ   Feedback      ‚îÇ
‚îÇ   (–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è)  ‚îÇ    ‚îÇ  Parser         ‚îÇ    ‚îÇ   Loop          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚ñº                       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Qdrant        ‚îÇ    ‚îÇ   LLM           ‚îÇ    ‚îÇ   –ü—Ä–æ–º–ø—Ç        ‚îÇ
‚îÇ   (–í–µ–∫—Ç–æ—Ä—ã)     ‚îÇ    ‚îÇ   (–ê–Ω–∞–ª–∏–∑)      ‚îÇ    ‚îÇ   Fine-tuning   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. –ü–æ—Ç–æ–∫ –æ–±—É—á–µ–Ω–∏—è

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚Üí –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ RAG
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
3. **–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞** ‚Üí –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
4. **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤** ‚Üí –£–ª—É—á—à–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
5. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏–π

## üìö –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑—ã

### 1.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ `TestDocs/Norms/`:**

```
TestDocs/Norms/
‚îú‚îÄ‚îÄ –ì–û–°–¢/
‚îÇ   ‚îú‚îÄ‚îÄ –ì–û–°–¢ 21.501-2018 - –ü—Ä–∞–≤–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —á–µ—Ä—Ç–µ–∂–µ–π.pdf
‚îÇ   ‚îú‚îÄ‚îÄ –ì–û–°–¢ 21.502-2016 - –ü—Ä–∞–≤–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–∏—Ö —á–µ—Ä—Ç–µ–∂–µ–π.pdf
‚îÇ   ‚îî‚îÄ‚îÄ –ì–û–°–¢ 2.306-68 - –û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.pdf
‚îú‚îÄ‚îÄ –°–ü/
‚îÇ   ‚îú‚îÄ‚îÄ –°–ü 48.13330.2019 - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞.pdf
‚îÇ   ‚îî‚îÄ‚îÄ –°–ü 70.13330.2012 - –ù–µ—Å—É—â–∏–µ –∏ –æ–≥—Ä–∞–∂–¥–∞—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.pdf
‚îú‚îÄ‚îÄ –°–ù–∏–ü/
‚îÇ   ‚îú‚îÄ‚îÄ –°–ù–∏–ü 2.01.07-85 - –ù–∞–≥—Ä—É–∑–∫–∏ –∏ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è.pdf
‚îÇ   ‚îî‚îÄ‚îÄ –°–ù–∏–ü 3.03.01-87 - –ù–µ—Å—É—â–∏–µ –∏ –æ–≥—Ä–∞–∂–¥–∞—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.pdf
‚îî‚îÄ‚îÄ –í–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω—ã–µ/
    ‚îú‚îÄ‚îÄ –†–î 11-02-2006 - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–æ—Å—Ç–∞–≤—É –∏ –ø–æ—Ä—è–¥–∫—É –≤–µ–¥–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.pdf
    ‚îî‚îÄ‚îÄ –°–ü 48.13330.2019 - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞.pdf
```

### 1.2 –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```bash
# 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç —á–µ—Ç–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ –∏ –≥–æ–¥–∞

# 2. –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
# –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã"
# –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é: –ì–û–°–¢, –°–ü, –°–ù–∏–ü, –í–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω—ã–µ
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É –∏–ª–∏ –ø–∞–∫–µ—Ç–Ω–æ

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
curl -k -H "Authorization: Bearer test-token" \
  "https://localhost/api/rag/stats" | jq .
```

### 1.3 –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
curl -k -H "Authorization: Bearer test-token" \
  "https://localhost/api/documents/stats" | jq .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
curl -k -H "Authorization: Bearer test-token" \
  "https://localhost/api/rag/stats" | jq '.vector_indexed'
```

## üß™ –≠—Ç–∞–ø 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 2.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ `TestDocs/for_check/`:**

```
TestDocs/for_check/
‚îú‚îÄ‚îÄ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ/
‚îÇ   ‚îú‚îÄ‚îÄ –ß–µ—Ä—Ç–µ–∂_—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π_–Ω–æ—Ä–º–∞–º.pdf
‚îÇ   ‚îú‚îÄ‚îÄ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è_–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è.pdf
‚îÇ   ‚îî‚îÄ‚îÄ –ü–ó_–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ.pdf
‚îú‚îÄ‚îÄ –°_–æ—à–∏–±–∫–∞–º–∏/
‚îÇ   ‚îú‚îÄ‚îÄ –ß–µ—Ä—Ç–µ–∂_—Å_–Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏.pdf
‚îÇ   ‚îú‚îÄ‚îÄ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è_—Å_–æ—à–∏–±–∫–∞–º–∏.pdf
‚îÇ   ‚îî‚îÄ‚îÄ –ü–ó_—Å_–ø—Ä–æ–±–ª–µ–º–∞–º–∏.pdf
‚îî‚îÄ‚îÄ –ü–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ/
    ‚îú‚îÄ‚îÄ –î–æ–∫—É–º–µ–Ω—Ç_—Å_–Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏_–Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏.pdf
    ‚îî‚îÄ‚îÄ –î–æ–∫—É–º–µ–Ω—Ç_—Ç—Ä–µ–±—É—é—â–∏–π_—É—Ç–æ—á–Ω–µ–Ω–∏–π.pdf
```

### 2.2 –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º:**

```json
{
  "document_name": "–ß–µ—Ä—Ç–µ–∂_—Å_–Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏.pdf",
  "expected_violations": [
    {
      "type": "critical",
      "description": "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–∞—Å—à—Ç–∞–± –Ω–∞ —á–µ—Ä—Ç–µ–∂–µ",
      "norm_reference": "–ì–û–°–¢ 21.501-2018 –ø.5.1",
      "location": "–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å"
    },
    {
      "type": "warning", 
      "description": "–ù–µ —É–∫–∞–∑–∞–Ω–∞ –º–∞—Ä–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞",
      "norm_reference": "–ì–û–°–¢ 2.306-68 –ø.3.1",
      "location": "–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è"
    }
  ],
  "expected_status": "–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç",
  "expected_recommendations": [
    "–î–æ–±–∞–≤–∏—Ç—å –º–∞—Å—à—Ç–∞–± –≤ –æ—Å–Ω–æ–≤–Ω—É—é –Ω–∞–¥–ø–∏—Å—å",
    "–£–∫–∞–∑–∞—Ç—å –º–∞—Ä–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏"
  ]
}
```

## üîß –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤

### 3.1 –¢–µ–∫—É—â–∏–π –ø—Ä–æ–º–ø—Ç —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–º–ø—Ç –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`system_settings.normcontrol_prompt`):

```sql
-- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
SELECT setting_value FROM system_settings WHERE setting_key = 'normcontrol_prompt';
```

### 3.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞

**–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞:**

```text
1. –†–û–õ–¨ –ò –ö–û–ù–¢–ï–ö–°–¢
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞
   - –£–∫–∞–∑–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –∑–Ω–∞–Ω–∏–π

2. –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ê–ù–ê–õ–ò–ó–£
   - –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

3. –°–¢–†–£–ö–¢–£–†–ê –û–¢–ß–ï–¢–ê
   - –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

4. –ö–†–ò–¢–ï–†–ò–ò –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–ò
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –Ω–∞—Ä—É—à–µ–Ω–∏–π
   - –ü–æ—Ä–æ–≥–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö/–Ω–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö

5. –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –ö–ê–ß–ï–°–¢–í–£
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å –∏ —Ç–æ—á–Ω–æ—Å—Ç—å
   - –°—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
```

### 3.3 –ú–µ—Ç–æ–¥–∏–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞

#### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
curl -k -H "Authorization: Bearer test-token" \
  -F "file=@TestDocs/for_check/–ß–µ—Ä—Ç–µ–∂_—Å_–Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏.pdf" \
  "https://localhost/api/upload/checkable"

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
curl -k -H "Authorization: Bearer test-token" \
  "https://localhost/api/checkable-documents/21/report" | jq .
```

#### –®–∞–≥ 2: –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå **–õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è** - —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è —Ç–∞–º, –≥–¥–µ –∏—Ö –Ω–µ—Ç
- ‚ùå **–ü—Ä–æ–ø—É—Å–∫ –Ω–∞—Ä—É—à–µ–Ω–∏–π** - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚ùå **–ù–µ—Ç–æ—á–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è** - –Ω–µ–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Å—ã–ª–æ–∫** - –Ω–µ—Ç —É–∫–∞–∑–∞–Ω–∏–π –Ω–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

#### –®–∞–≥ 3: –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–∞

```sql
-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
UPDATE system_settings 
SET setting_value = '–ù–û–í–´–ô_–ü–†–û–ú–ü–¢_–°_–£–õ–£–ß–®–ï–ù–ò–Ø–ú–ò'
WHERE setting_key = 'normcontrol_prompt';
```

#### –®–∞–≥ 4: –í–∞–ª–∏–¥–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏–π

```bash
# –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≥–æ –∂–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
curl -k -H "Authorization: Bearer test-token" \
  -F "file=@TestDocs/for_check/–ß–µ—Ä—Ç–µ–∂_—Å_–Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏.pdf" \
  "https://localhost/api/upload/checkable"

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

## üìä –≠—Ç–∞–ø 4: –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### 4.1 –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

```python
# –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã

def calculate_metrics(expected, actual):
    """
    –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
    
    Args:
        expected: –û–∂–∏–¥–∞–µ–º—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è (—ç—Ç–∞–ª–æ–Ω)
        actual: –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è (—Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–∏—Å—Ç–µ–º—ã)
    """
    
    # –¢–æ—á–Ω–æ—Å—Ç—å (Precision)
    true_positives = len(set(expected) & set(actual))
    precision = true_positives / len(actual) if actual else 0
    
    # –ü–æ–ª–Ω–æ—Ç–∞ (Recall)
    recall = true_positives / len(expected) if expected else 0
    
    # F1-–º–µ—Ä–∞
    f1 = 2 * (precision * recall) / (precision + recall) if (precision + recall) > 0 else 0
    
    return {
        "precision": precision,
        "recall": recall, 
        "f1_score": f1,
        "true_positives": true_positives,
        "false_positives": len(actual) - true_positives,
        "false_negatives": len(expected) - true_positives
    }
```

### 4.2 –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|------------------|----------|
| **Precision** | > 0.85 | –ú–∏–Ω–∏–º—É–º –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π |
| **Recall** | > 0.90 | –ú–∞–∫—Å–∏–º—É–º –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π |
| **F1-Score** | > 0.87 | –û–±—â–∏–π –±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ |
| **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞** | < 30 —Å–µ–∫ | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |

## üîÑ –≠—Ç–∞–ø 5: –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ

### 5.1 –¶–∏–∫–ª —É–ª—É—á—à–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  ‚îÇ
‚îÇ   –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ê–Ω–∞–ª–∏–∑        ‚îÇ
‚îÇ   —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –í—ã—è–≤–ª–µ–Ω–∏–µ     ‚îÇ
‚îÇ   –ø—Ä–æ–±–ª–µ–º       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ ‚îÇ
‚îÇ   –ø—Ä–æ–º–ø—Ç–æ–≤      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –í–∞–ª–∏–¥–∞—Ü–∏—è     ‚îÇ
‚îÇ   —É–ª—É—á—à–µ–Ω–∏–π     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                  ‚ñº
```

### 5.2 –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞

**–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

```bash
#!/bin/bash
# test_system_quality.sh

echo "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã AI-NK"

# 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
for file in TestDocs/for_check/–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ/*.pdf; do
    echo "–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞: $file"
    curl -k -H "Authorization: Bearer test-token" \
      -F "file=@$file" "https://localhost/api/upload/checkable"
done

for file in TestDocs/for_check/–°_–æ—à–∏–±–∫–∞–º–∏/*.pdf; do
    echo "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –æ—à–∏–±–∫–∞–º–∏: $file"
    curl -k -H "Authorization: Bearer test-token" \
      -F "file=@$file" "https://localhost/api/upload/checkable"
done

# 2. –û–∂–∏–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
sleep 30

# 3. –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
echo "üìä –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤..."
curl -k -H "Authorization: Bearer test-token" \
  "https://localhost/api/checkable-documents" | jq '.documents[] | {id, original_filename, processing_status}'

echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ"
```

## üéØ –≠—Ç–∞–ø 6: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### 6.1 –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —á–µ—Ä—Ç–µ–∂–∏** (–ê–°)
- **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–∏–µ —á–µ—Ä—Ç–µ–∂–∏** (–ö–ñ, –ö–ú, –ö–î)
- **–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏** (–°–ü)
- **–ü–æ—è—Å–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∫–∏** (–ü–ó)
- **–°—Ö–µ–º—ã** (–≠–°, –í–ö, –û–í, –ê–°–£–¢–ü)

### 6.2 –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
INSERT INTO system_settings (setting_key, setting_value, setting_description) VALUES
('normcontrol_prompt_architectural', 
 '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —á–µ—Ä—Ç–µ–∂–µ–π...',
 '–ü—Ä–æ–º–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —á–µ—Ä—Ç–µ–∂–µ–π'),
('normcontrol_prompt_structural',
 '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–∏—Ö —á–µ—Ä—Ç–µ–∂–µ–π...', 
 '–ü—Ä–æ–º–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–∏—Ö —á–µ—Ä—Ç–µ–∂–µ–π'),
('normcontrol_prompt_specifications',
 '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π...',
 '–ü—Ä–æ–º–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π');
```

### 6.3 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø—Ä–æ–º–ø—Ç–∞

```python
def select_prompt_by_category(document_category: str) -> str:
    """–í—ã–±–æ—Ä –ø—Ä–æ–º–ø—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞"""
    
    prompt_mapping = {
        'architectural': 'normcontrol_prompt_architectural',
        'structural': 'normcontrol_prompt_structural', 
        'specifications': 'normcontrol_prompt_specifications',
        'default': 'normcontrol_prompt'
    }
    
    prompt_key = prompt_mapping.get(document_category, 'default')
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    return get_setting(prompt_key)
```

## üìà –≠—Ç–∞–ø 7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### 7.1 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞

**Grafana –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –º–µ—Ç—Ä–∏–∫:**

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞
CREATE TABLE IF NOT EXISTS quality_metrics (
    id SERIAL PRIMARY KEY,
    test_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    document_category VARCHAR(50),
    precision FLOAT,
    recall FLOAT,
    f1_score FLOAT,
    processing_time_seconds INTEGER,
    model_version VARCHAR(20),
    prompt_version VARCHAR(20)
);
```

### 7.2 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```python
def check_quality_thresholds():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∫–∞—á–µ—Å—Ç–≤–∞"""
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫
    recent_metrics = get_recent_quality_metrics()
    
    for metric in recent_metrics:
        if metric['f1_score'] < 0.85:
            send_alert(f"–ö–∞—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º—ã –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞: {metric['f1_score']}")
        
        if metric['processing_time_seconds'] > 60:
            send_alert(f"–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–æ: {metric['processing_time_seconds']} —Å–µ–∫")
```

### 7.3 –ü–ª–∞–Ω–æ–≤–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

**–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
1. **–ê–Ω–∞–ª–∏–∑ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** - –≤—ã—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –Ω–∞—Ä—É—à–µ–Ω–∏–π
2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑—ã** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ì–û–°–¢/–°–ü
3. **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤** - —É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞

**–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
1. **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
2. **–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤** - –≤—ã—è–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫** - –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ü–µ–ª–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –≤–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞ —É–ª—É—á—à–µ–Ω–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –æ–±—É—á–µ–Ω–∏—è

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
docker-compose ps

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
curl -k "https://localhost/api/health"

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
curl -k -H "Authorization: Bearer test-token" \
  "https://localhost/api/settings" | jq .
```

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫
mkdir -p TestDocs/Norms/{–ì–û–°–¢,–°–ü,–°–ù–∏–ü,–í–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω—ã–µ}
mkdir -p TestDocs/for_check/{–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ,–°_–æ—à–∏–±–∫–∞–º–∏,–ü–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ}

# –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ API
# –û—Ç–∫—Ä–æ–π—Ç–µ https://localhost –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã"
```

### –®–∞–≥ 3: –ü–µ—Ä–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
curl -k -H "Authorization: Bearer test-token" \
  -F "file=@TestDocs/for_check/—Ç–µ—Å—Ç–æ–≤—ã–π_–¥–æ–∫—É–º–µ–Ω—Ç.pdf" \
  "https://localhost/api/upload/checkable"

# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
curl -k -H "Authorization: Bearer test-token" \
  "https://localhost/api/checkable-documents" | jq .
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–∞

```sql
-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
docker exec -it ai-nk-norms-db-1 psql -U norms_user -d norms_db

-- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
SELECT setting_key, LEFT(setting_value, 100) FROM system_settings 
WHERE setting_key = 'normcontrol_prompt';

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
UPDATE system_settings 
SET setting_value = '–£–õ–£–ß–®–ï–ù–ù–´–ô_–ü–†–û–ú–ü–¢'
WHERE setting_key = 'normcontrol_prompt';
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –æ–±—É—á–µ–Ω–∏—è

### ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã
- [ ] –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

### ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–ø—É—â–µ–Ω–∞

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü–µ—Ä–≤–∏—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã
- [ ] –ü—Ä–æ–±–ª–µ–º—ã –≤—ã—è–≤–ª–µ–Ω—ã –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –≤–Ω–µ—Å–µ–Ω—ã

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è
- [ ] –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ
- [ ] –£–ª—É—á—à–µ–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã
- [ ] –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã
- [ ] –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û–±—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã AI-NK - —ç—Ç–æ **–∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å**, —Ç—Ä–µ–±—É—é—â–∏–π:

1. **–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞** - —á–µ—Ç–∫–∏–π –ø–ª–∞–Ω –∏ –º–µ—Ç—Ä–∏–∫–∏
2. **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
3. **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞
4. **–†–µ–≥—É–ª—è—Ä–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –Ω–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞, —Å–ø–æ—Å–æ–±–Ω–∞—è —Ç–æ—á–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π.

---

*üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞: –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.*
