# –û—Ç—á–µ—Ç –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ clean_text –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞
–§—É–Ω–∫—Ü–∏—è `clean_text` –≤–Ω–æ—Å–∏–ª–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ —Ä–∞–±–æ—Ç—É –ø—Ä–æ–µ–∫—Ç–∞, –∏—Å–∫–∞–∂–∞—è –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –∏ —É—Ö—É–¥—à–∞—è –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### 1. –£–¥–∞–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ clean_text –∏–∑ document_parser.py
**–§–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã:**
- `vllm_service/utils/document_parser.py`
- `utils/document_parser.py`
- `rag_service/utils/document_parser.py`
- `outgoing_control_service/utils/document_parser.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã `self.text_processor.clean_text()`
- –£–¥–∞–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã –æ—á–∏—Å—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ –≤ PDF, DOCX –∏ TXT –ø–∞—Ä—Å–µ—Ä–∞—Ö
- –¢–µ–∫—Å—Ç —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

### 2. –£–¥–∞–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞ clean_text –∏–∑ main.py
**–§–∞–π–ª:** `outgoing_control_service/main.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
def clean_extracted_text(text: str) -> str:
    """–û—á–∏—Å—Ç–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—â–µ–≥–æ –º–æ–¥—É–ª—è utils"""
    # return clean_text(text, preserve_structure=True)
    return text  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—Å—Ç –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏
```

### 3. –£–¥–∞–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ clean_text
**–§–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã:**
- `vllm_service/utils/text_processing.py`
- `utils/text_processing.py`
- `rag_service/utils/text_processing.py`
- `outgoing_control_service/utils/text_processing.py`
- `rag_service/utils/text_utils.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `clean_text` –≤ –∫–ª–∞—Å—Å–µ `TextProcessor`
- –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `clean_text` –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `clean_text` –∏–∑ `text_utils.py`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
**–§–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã:**
- `vllm_service/utils/example_usage.py`
- `utils/example_usage.py`
- `rag_service/utils/example_usage.py`
- `outgoing_control_service/utils/example_usage.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—ã–∑–æ–≤—ã `processor.clean_text()`
- –ü—Ä–∏–º–µ—Ä—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
**–§–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã:**
- `vllm_service/utils/README.md`
- `utils/README.md`
- `rag_service/utils/README.md`
- `outgoing_control_service/utils/README.md`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –û—Ç–º–µ—á–µ–Ω –º–µ—Ç–æ–¥ `clean_text` –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤:

1. **SpellChecker Service** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   ```json
   {"status":"healthy","service":"spellchecker","hunspell_available":true,"languagetool_available":true,"version":"1.0.0"}
   ```

2. **Outgoing Control Service** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   ```json
   {"status":"healthy","service":"outgoing_control","spellchecker_service":"healthy"}
   ```

3. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   ```json
   {"status":"success"}
   ```

4. **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ú–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏: "hunspell"
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–¥–∞–ª–µ–Ω–∏—è clean_text

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –¢–µ–∫—Å—Ç –Ω–µ –∏—Å–∫–∞–∂–∞–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –£–ª—É—á—à–∞–µ—Ç—Å—è –∫–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞

### 2. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- –£–±—Ä–∞–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—á–∏—Å—Ç–∫–æ–π
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –∏—Å–∫–∞–∂–µ–Ω–∏—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –£–ª—É—á—à–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞

### 3. –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞
- –£–¥–∞–ª–µ–Ω –∏–∑–±—ã—Ç–æ—á–Ω—ã–π –∫–æ–¥ –æ—á–∏—Å—Ç–∫–∏
- –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞

### 4. –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –£–±—Ä–∞–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –£—Å–∫–æ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤
- –°–Ω–∏–∂–µ–Ω–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|-----------|------------------|-----------|
| Document parsers | 4 | –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—ã–∑–æ–≤—ã clean_text |
| Text processing | 5 | –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π |
| Examples | 4 | –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| Documentation | 4 | –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| Main service | 1 | –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ |
| **–í—Å–µ–≥–æ** | **18** | **–ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ clean_text** |

## –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. **–ü–∞—Ä—Å–∏–Ω–≥ PDF** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞
2. **–ü–∞—Ä—Å–∏–Ω–≥ DOCX** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞
3. **–ü–∞—Ä—Å–∏–Ω–≥ TXT** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞
4. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏—Å—Ö–æ–¥–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
6. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏—Å—Ö–æ–¥–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º

### üîß –£–ª—É—á—à–µ–Ω–∏—è:
1. **–ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–∞** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
2. **–¢–æ—á–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞** - —É–ª—É—á—à–µ–Ω–∞ –∑–∞ —Å—á–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏—Å–∫–∞–∂–µ–Ω–∏–π
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —É—Å–∫–æ—Ä–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –æ—à–∏–±–∫–∏ –æ—á–∏—Å—Ç–∫–∏

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞** - —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É –ø–∞—Ä—Å–µ—Ä–æ–≤
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å —É—á–µ—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§—É–Ω–∫—Ü–∏—è `clean_text` —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
- ‚úÖ **18 —Ñ–∞–π–ª–æ–≤** –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ **–í—Å–µ –≤—ã–∑–æ–≤—ã** –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–ª–∏ —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ

–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏—Å—Ö–æ–¥–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏, —á—Ç–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –æ—à–∏–±–∫–∏ –∏ —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
