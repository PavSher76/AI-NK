# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ Ollama –≤ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è—Ö –ù–¢–î

## –ü—Ä–æ–±–ª–µ–º–∞

–í —Ä–∞–∑–¥–µ–ª–µ "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ù–¢–î –æ—Ç –ò–ò" —Å—Ç–∞—Ç—É—Å Ollama –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –∫–∞–∫ "–û—à–∏–±–∫–∞", –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

–§—É–Ω–∫—Ü–∏—è `checkSystemStatus` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `NTDConsultation.js` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ API endpoints:

```javascript
// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints
const ragResponse = await fetch('/api/health', { headers: { 'Authorization': `Bearer ${authToken}` } });
const ollamaResponse = await fetch('/api/chat/tags', { headers: { 'Authorization': `Bearer ${authToken}` } });
const documentsResponse = await fetch('/api/documents/stats', { headers: { 'Authorization': `Bearer ${authToken}` } });
```

## –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã API endpoints

–ó–∞–º–µ–Ω–∏–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—É—Ç–∏ —á–µ—Ä–µ–∑ RAG —Å–µ—Ä–≤–∏—Å:

```javascript
// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints
const ragResponse = await fetch('/rag/health');
const ollamaResponse = await fetch('/rag/models');
const documentsResponse = await fetch('/rag/documents/stats');
```

### 2. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞ "false" –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ:

```javascript
} catch (error) {
  console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã:', error);
  setSystemStatus({
    ragService: false,
    ollama: false,
    documents: null
  });
}
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∫–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥:

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
const statusInterval = setInterval(() => {
  checkSystemStatus();
}, 30000);

// –û—á–∏—Å—Ç–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
return () => clearInterval(statusInterval);
```

### 4. –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ü–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
- –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- –î–æ–±–∞–≤–ª–µ–Ω —Å—á–µ—Ç—á–∏–∫ —á–∞–Ω–∫–æ–≤

```javascript
const getStatusColor = (status) => {
  if (status === true) return 'text-green-600';
  if (status === false) return 'text-red-600';
  return 'text-yellow-600';
};
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

```bash
# RAG —Å–µ—Ä–≤–∏—Å
curl -s http://localhost:8003/health
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"status": "healthy", "services": {"ollama": "healthy", "qdrant": "healthy", "postgresql": "healthy"}}

# Ollama –º–æ–¥–µ–ª–∏
curl -s http://localhost:8003/models
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"status": "success", "models": [...], "ollama_status": "healthy"}

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
curl -s http://localhost:8003/documents/stats
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"tokens": 229416, "chunks": 2206, "vectors": 0, "documents": 10}
```

### Nginx proxy —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
curl -k -s https://localhost/rag/health
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"status": "healthy", "services": {"ollama": "healthy", "qdrant": "healthy", "postgresql": "healthy"}}
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–°—Ç–∞—Ç—É—Å Ollama —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–∞–∫ "–†–∞–±–æ—Ç–∞–µ—Ç"**

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥**

‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏**

‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- `frontend/src/components/NTDConsultation.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `checkSystemStatus`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://localhost`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ù–¢–î –æ—Ç –ò–ò"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã - –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "–†–∞–±–æ—Ç–∞–µ—Ç"
4. –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
