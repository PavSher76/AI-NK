# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ 11 —è–¥–µ—Ä CPU –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ AI-NK

## –ê–Ω–∞–ª–∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ CPU

### –í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã)
1. **RAG Service** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, —ç–º–±–µ–¥–¥–∏–Ω–≥–∏, –ø–æ–∏—Å–∫
2. **Document Parser** - –ø–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
3. **VLLM Service** - –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –±–æ–ª—å—à–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π

### –°—Ä–µ–¥–Ω–µ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–≤–∞–∂–Ω—ã–µ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
4. **Rule Engine** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª –∏ –ª–æ–≥–∏–∫–∏
5. **Calculation Service** - –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã
6. **SpellChecker Service** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏
7. **Archive Service** - –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –ë–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
8. **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
9. **Qdrant** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
10. **Gateway** - API —à–ª—é–∑

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
11. **Outgoing Control Service** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
12. **LanguageTool** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏
13. **Analog Objects Service** - —Ä–∞–±–æ—Ç–∞ —Å –∞–Ω–∞–ª–æ–≥–æ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
14. **Redis** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
15. **Keycloak** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

## –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ 11 —è–¥–µ—Ä CPU

### üöÄ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (5.5 —è–¥—Ä–∞)

#### 1. RAG Service - 2.5 —è–¥—Ä–∞
- **CPU Shares**: 1024
- **Reservation**: 2.5 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤, —Å–æ–∑–¥–∞–Ω–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤, –ø–æ–∏—Å–∫–∞ –ø–æ –≤–µ–∫—Ç–æ—Ä–∞–º

#### 2. Document Parser - 2.0 —è–¥—Ä–∞  
- **CPU Shares**: 1024
- **Reservation**: 2.0 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF, DOC, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞, —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞–Ω–∫–æ–≤

#### 3. VLLM Service - 1.0 —è–¥—Ä–æ
- **CPU Shares**: 1024
- **Reservation**: 1.0 core
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ò–Ω—Ñ–µ—Ä–µ–Ω—Å LLM –º–æ–¥–µ–ª–µ–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤

### ‚öñÔ∏è –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (3.0 —è–¥—Ä–∞)

#### 4. Rule Engine - 0.8 —è–¥—Ä–∞
- **CPU Shares**: 512
- **Reservation**: 0.8 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

#### 5. Calculation Service - 0.8 —è–¥—Ä–∞
- **CPU Shares**: 512
- **Reservation**: 0.8 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã, –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### 6. SpellChecker Service - 0.6 —è–¥—Ä–∞
- **CPU Shares**: 512
- **Reservation**: 0.6 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏

#### 7. Archive Service - 0.8 —è–¥—Ä–∞
- **CPU Shares**: 512
- **Reservation**: 0.8 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–∂–∞—Ç–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### üèóÔ∏è –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1.5 —è–¥—Ä–∞)

#### 8. PostgreSQL - 0.6 —è–¥—Ä–∞
- **CPU Shares**: 256
- **Reservation**: 0.6 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, SQL –∑–∞–ø—Ä–æ—Å—ã

#### 9. Qdrant - 0.5 —è–¥—Ä–∞
- **CPU Shares**: 256
- **Reservation**: 0.5 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

#### 10. Gateway - 0.4 —è–¥—Ä–∞
- **CPU Shares**: 256
- **Reservation**: 0.4 cores
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: API —à–ª—é–∑, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

### üîß –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1.0 —è–¥—Ä–æ)

#### 11. Outgoing Control Service - 0.3 —è–¥—Ä–∞
- **CPU Shares**: 128
- **Reservation**: 0.3 cores

#### 12. LanguageTool - 0.3 —è–¥—Ä–∞
- **CPU Shares**: 128
- **Reservation**: 0.3 cores

#### 13. Analog Objects Service - 0.2 —è–¥—Ä–∞
- **CPU Shares**: 128
- **Reservation**: 0.2 cores

#### 14. Redis - 0.1 —è–¥—Ä–æ
- **CPU Shares**: 64
- **Reservation**: 0.1 cores

#### 15. Keycloak - 0.1 —è–¥—Ä–æ
- **CPU Shares**: 64
- **Reservation**: 0.1 cores

## –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–µ—Ä–≤–∏—Å | –Ø–¥—Ä–∞ | CPU Shares | % –æ—Ç –æ–±—â–µ–≥–æ |
|-----------|--------|------|------------|-------------|
| **–í—ã—Å–æ–∫–∏–π** | RAG Service | 2.5 | 1024 | 22.7% |
| **–í—ã—Å–æ–∫–∏–π** | Document Parser | 2.0 | 1024 | 18.2% |
| **–í—ã—Å–æ–∫–∏–π** | VLLM Service | 1.0 | 1024 | 9.1% |
| **–°—Ä–µ–¥–Ω–∏–π** | Rule Engine | 0.8 | 512 | 7.3% |
| **–°—Ä–µ–¥–Ω–∏–π** | Calculation Service | 0.8 | 512 | 7.3% |
| **–°—Ä–µ–¥–Ω–∏–π** | SpellChecker Service | 0.6 | 512 | 5.5% |
| **–°—Ä–µ–¥–Ω–∏–π** | Archive Service | 0.8 | 512 | 7.3% |
| **–ë–∞–∑–æ–≤—ã–π** | PostgreSQL | 0.6 | 256 | 5.5% |
| **–ë–∞–∑–æ–≤—ã–π** | Qdrant | 0.5 | 256 | 4.5% |
| **–ë–∞–∑–æ–≤—ã–π** | Gateway | 0.4 | 256 | 3.6% |
| **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π** | –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã | 1.0 | 64-128 | 9.1% |
| **–ò–¢–û–ì–û** | | **11.0** | | **100%** |

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

### 1. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏
- **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í–∞–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- **–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª—É—á–∞—é—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ä–µ—Å—É—Ä—Å—ã

### 2. CPU Shares (–¥–ª—è macOS Docker)
- **1024 shares**: –í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **512 shares**: –°—Ä–µ–¥–Ω–µ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã  
- **256 shares**: –ë–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **128 shares**: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **64 shares**: –ö—ç—à –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### 3. –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **Reservation**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —è–¥—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- **Limits**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã (–Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏)
- **Shares**: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –∑–∞ —Ä–µ—Å—É—Ä—Å—ã

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
1. **CPU Utilization** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –∫–∞–∂–¥—ã–º —Å–µ—Ä–≤–∏—Å–æ–º
2. **Queue Length** - –¥–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
3. **Response Time** - –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
4. **Throughput** - –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–∑–∫–∏—Ö –º–µ—Å—Ç –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

1. **–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**: –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
2. **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
3. **–ì–∏–±–∫–æ—Å—Ç—å**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ß–µ—Ç–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
