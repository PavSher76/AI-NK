# –û—Ç—á–µ—Ç –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í —Ö–æ–¥–µ –∞–Ω–∞–ª–∏–∑–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã AI-NK –±—ã–ª–æ –≤—ã—è–≤–ª–µ–Ω–æ, —á—Ç–æ **vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8000** –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ. –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏ - **Ollama Integration Service –Ω–∞ –ø–æ—Ä—Ç—É 8005**, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å Ollama API.

## üîç –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### ‚ùå –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–ø–æ—Ä—Ç 8000)
- **–°—Ç–∞—Ç—É—Å**: –ó–∞–ø—É—â–µ–Ω –≤ Docker, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è Ollama —á–µ—Ä–µ–∑ vLLM API
- **–ü—Ä–æ–±–ª–µ–º–∞**: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –ª–∏—à–Ω–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–π Ollama Integration Service (–ø–æ—Ä—Ç 8005)
- **–°—Ç–∞—Ç—É—Å**: –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ollama API
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ü—Ä–æ—Å—Ç–æ—Ç–∞, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –ø—Ä—è–º–∞—è —Å–≤—è–∑—å —Å –º–æ–¥–µ–ª—è–º–∏

## üóëÔ∏è –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker stop ai-nk-vllm-1

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker rm ai-nk-vllm-1
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ docker-compose —Ñ–∞–π–ª–æ–≤
- **docker-compose.yaml**: –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω vLLM —Å–µ—Ä–≤–∏—Å
- **docker-compose.macbook.yaml**: –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω vLLM —Å–µ—Ä–≤–∏—Å
- **docker-compose.macbook.m3pro.yaml**: –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω vLLM —Å–µ—Ä–≤–∏—Å
- **docker-compose.macbook.70b.yaml**: –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω vLLM —Å–µ—Ä–≤–∏—Å

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Gateway
```yaml
# –ë—ã–ª–æ
- "UPSTREAM_URL=http://vllm:8000/v1"

# –°—Ç–∞–ª–æ
- "UPSTREAM_URL=http://localhost:8005"
```

### 4. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–£–¥–∞–ª–µ–Ω–∞ –ø–∞–ø–∫–∞**: `ollama_adapter/`
- **–£–¥–∞–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –û—Ç vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### 5. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
- **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∫–ª–∞—Å—Å**: `VLLMOllamaService` ‚Üí `OllamaService`
- **–£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞**: –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ vLLM —Å—Ç–∞—Ç—É—Å–∞
- **–û–±–Ω–æ–≤–ª–µ–Ω—ã –ª–æ–≥–∏**: –ò–∑–º–µ–Ω–µ–Ω—ã –ø—Ä–µ—Ñ–∏–∫—Å—ã –ª–æ–≥–æ–≤

### 6. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
- **–ü–∞–ø–∫–∞**: `vllm_service/` ‚Üí `ollama_service/`
- **–°–∫—Ä–∏–ø—Ç**: `start_vllm_ollama.sh` ‚Üí `start_ollama_service.sh`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `VLLM_OLLAMA_INTEGRATION_ARCHITECTURE.md` ‚Üí `OLLAMA_INTEGRATION_ARCHITECTURE.md`

## üìä –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- **–ü–∞–º—è—Ç—å**: ~1-2GB (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- **CPU**: 1-2 —è–¥—Ä–∞
- **–ü–æ—Ä—Ç**: 8000 –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω
- **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**: –£–¥–∞–ª–µ–Ω

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ø—Ä–æ—â–µ–Ω–∏—è
- **–£–±—Ä–∞–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å**: –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **–£–ø—Ä–æ—â–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ Ollama
- **–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–µ–Ω—å—à–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–ª–æ–µ–≤

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```
Frontend ‚Üí Gateway ‚Üí vLLM Container ‚Üí Ollama ‚Üí Models
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```
Frontend ‚Üí Gateway ‚Üí Ollama Integration Service ‚Üí Ollama ‚Üí Models
```

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. **FRONTEND_SYSTEM_ARCHITECTURE_SCHEME.md**
   - –£–±—Ä–∞–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö
   - –ò–∑–º–µ–Ω–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

2. **OLLAMA_INTEGRATION_ARCHITECTURE.md** (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω)
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
   - –£–ø—Ä–æ—â–µ–Ω—ã –ø–æ—Ç–æ–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
   - –£–±—Ä–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ vLLM

3. **Docker-compose —Ñ–∞–π–ª—ã**
   - –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã vLLM —Å–µ—Ä–≤–∏—Å—ã
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã UPSTREAM_URL
   - –£–±—Ä–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç vLLM

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
1. **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**: –£–º–µ–Ω—å—à–µ–Ω–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ CPU
2. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: –ú–µ–Ω—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
3. **–£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –ü—Ä—è–º–∞—è —Å–≤—è–∑—å —Å Ollama
4. **–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**: –ú–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
curl -s http://localhost:8005/health

# –†–µ–∑—É–ª—å—Ç–∞—Ç
{
  "status": "healthy",
  "services": {
    "ollama": {
      "status": "healthy",
      "available_models": ["bge-m3:latest", "gpt-oss:20b"],
      "total_models": 2
    }
  }
}
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ollama Integration Service** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–æ–¥–µ–ª—è–º–∏
2. **–ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ Ollama API** –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 8005** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞

### –î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
1. **–£–±—Ä–∞—Ç—å vLLM –∏–∑ docker-compose** –≤–æ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

## üìà –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞ –ø—Ä–æ—â–µ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –∏ –ª–µ–≥—á–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ Ollama Integration Service, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä—è–º—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏.

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
**–î–∞—Ç–∞**: 31.08.2025
**–í–µ—Ä—Å–∏—è**: 2.0
