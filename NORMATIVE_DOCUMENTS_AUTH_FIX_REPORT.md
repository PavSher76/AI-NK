# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ "–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã"

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã" –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –ø—É—Å—Ç–æ–π. –í –ª–æ–≥–∞—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞–±–ª—é–¥–∞–ª–∏—Å—å –æ—à–∏–±–∫–∏ 401 (Unauthorized) –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ API:

```
192.168.65.1 - - [28/Aug/2025:10:21:55 +0300] "GET /api/documents HTTP/1.1" 401 66
192.168.65.1 - - [28/Aug/2025:10:21:55 +0300] "GET /api/documents/stats HTTP/1.1" 401 66
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:
–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `NormativeDocuments.js` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Ö–∞—Ä–¥–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ `'Bearer test-token'` –≤–º–µ—Å—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–∫–µ–Ω–∞, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–≥–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–ø—Å—ã.

### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞:
1. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:** `NormativeDocuments({ isAuthenticated, authToken, ... })`
2. **–¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤—Å–µ —É—Ä–æ–≤–Ω–∏:** App.js ‚Üí DocumentsPage ‚Üí NormativeDocuments
3. **–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞:** –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –§–∞–π–ª: `frontend/src/components/NormativeDocuments.js`

#### 1. –§—É–Ω–∫—Ü–∏—è `fetchDocuments` - –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```javascript
// –î–û
const response = await fetch('/api/documents', {
  headers: {
    'Authorization': 'Bearer test-token'
  }
});

// –ü–û–°–õ–ï
const response = await fetch('/api/documents', {
  headers: {
    'Authorization': `Bearer ${authToken}`
  }
});
```

#### 2. –§—É–Ω–∫—Ü–∏—è `fetchStats` - –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```javascript
// –î–û
const response = await fetch('/api/documents/stats', {
  headers: {
    'Authorization': 'Bearer test-token'
  }
});

// –ü–û–°–õ–ï
const response = await fetch('/api/documents/stats', {
  headers: {
    'Authorization': `Bearer ${authToken}`
  }
});
```

#### 3. –§—É–Ω–∫—Ü–∏—è `reindexDocuments` - —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```javascript
// –î–û
headers: {
  'Authorization': 'Bearer test-token',
  'Content-Type': 'application/json',
}

// –ü–û–°–õ–ï
headers: {
  'Authorization': `Bearer ${authToken}`,
  'Content-Type': 'application/json',
}
```

#### 4. –§—É–Ω–∫—Ü–∏—è `fetchDocumentTokens` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞
```javascript
// –î–û
headers: {
  'Authorization': 'Bearer test-token'
}

// –ü–û–°–õ–ï
headers: {
  'Authorization': `Bearer ${authToken}`
}
```

#### 5. –§—É–Ω–∫—Ü–∏—è `fetchSettings` - –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```javascript
// –î–û
headers: {
  'Authorization': 'Bearer test-token'
}

// –ü–û–°–õ–ï
headers: {
  'Authorization': `Bearer ${authToken}`
}
```

#### 6. –§—É–Ω–∫—Ü–∏—è `updateSetting` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```javascript
// –î–û (–¥–≤–∞ –º–µ—Å—Ç–∞)
headers: {
  'Authorization': 'Bearer test-token',
  'Content-Type': 'application/json',
}

// –ü–û–°–õ–ï
headers: {
  'Authorization': `Bearer ${authToken}`,
  'Content-Type': 'application/json',
}
```

#### 7. –§—É–Ω–∫—Ü–∏—è `deleteSetting` - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```javascript
// –î–û
headers: {
  'Authorization': 'Bearer test-token',
}

// –ü–û–°–õ–ï
headers: {
  'Authorization': `Bearer ${authToken}`,
}
```

#### 8. –§—É–Ω–∫—Ü–∏—è `uploadDocument` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```javascript
// –î–û (–¥–≤–∞ –º–µ—Å—Ç–∞)
headers: {
  'Authorization': 'Bearer test-token'
}

// –ü–û–°–õ–ï
headers: {
  'Authorization': `Bearer ${authToken}`
}
```

#### 9. XMLHttpRequest –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
```javascript
// –î–û
xhr.setRequestHeader('Authorization', 'Bearer test-token');

// –ü–û–°–õ–ï
xhr.setRequestHeader('Authorization', `Bearer ${authToken}`);
```

#### 10. –§—É–Ω–∫—Ü–∏—è `deleteDocument` - —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```javascript
// –î–û
headers: {
  'Authorization': 'Bearer test-token'
}

// –ü–û–°–õ–ï
headers: {
  'Authorization': `Bearer ${authToken}`
}
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
1. `GET /api/documents` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
2. `GET /api/documents/stats` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
3. `POST /api/reindex-documents` - —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
4. `GET /api/documents/{id}/tokens` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞
5. `GET /api/settings` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
6. `PUT /api/settings/{key}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
7. `POST /api/settings` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
8. `DELETE /api/settings/{key}` - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
9. `POST /api/upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
10. `POST /api/documents/{id}/process` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
11. `DELETE /api/documents/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–∞:
```
App.js (authToken) 
  ‚Üì
DocumentsPage (authToken) 
  ‚Üì
NormativeDocuments (authToken) 
  ‚Üì
API –∑–∞–ø—Ä–æ—Å—ã (Bearer ${authToken})
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã" –ø—É—Å—Ç–∞—è
- ‚ùå –û—à–∏–±–∫–∏ 401 –≤ –ª–æ–≥–∞—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- ‚ùå API –∑–∞–ø—Ä–æ—Å—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è –∏–∑-–∑–∞ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –º–µ—Å—Ç–∞ —Å —Ö–∞—Ä–¥–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
2. ‚úÖ –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω Docker –æ–±—Ä–∞–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
3. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

### –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
```bash
docker-compose build frontend && docker-compose up -d frontend
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É:
1. **–õ–æ–≥–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã
2. **–õ–æ–≥–∏ Gateway** - –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–õ–æ–≥–∏ RAG —Å–µ—Ä–≤–∏—Å–∞** - –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
4. **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- –£—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/documents` (—Å—Ç–∞—Ç—É—Å 200)
- –£—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/documents/stats` (—Å—Ç–∞—Ç—É—Å 200)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 16 –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π (–∑–∞–≥—Ä—É–∑–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

---

**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 28.08.2025  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~15 –º–∏–Ω—É—Ç  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

### üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ "–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã" –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞. –¢–µ–ø–µ—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã" –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
