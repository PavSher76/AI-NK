# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è

## –î–æ–∫—É–º–µ–Ω—Ç: "3401-21089-–†–î-01-220-221-–ê–†_4_0_RU_IFC (1).pdf"

### –û–±–∑–æ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏

–í—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ "3401-21089-–†–î-01-220-221-–ê–†_4_0_RU_IFC (1).pdf" –≤ —Å–∏—Å—Ç–µ–º–µ AI-NK.

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã:

1. **–î–æ–∫—É–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ**:
   - **ID**: 54229907
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: "3401-21089-–†–î-01-220-221-–ê–†_4_0_RU_IFC (1).pdf"
   - **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: 14,430,600 –±–∞–π—Ç (14.4 –ú–ë)
   - **–¢–∏–ø —Ñ–∞–π–ª–∞**: PDF
   - **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: other
   - **–î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏**: 2025-09-15T19:37:09.907915

2. **–°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
   - **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: completed (–∑–∞–≤–µ—Ä—à–µ–Ω–æ)
   - **–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏**: pending (–æ–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
   - **–°—Ä–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏**: 2025-09-17T19:37:09.907915

3. **–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã**:
   - **Document Parser**: ‚úÖ –ó–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - **Hierarchical Check Service**: ‚úÖ –ó–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - **PostgreSQL**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
   - **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ (–¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏)

### ‚ùå –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞**:
   - –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
   - 0 —Å—Ç—Ä–∞–Ω–∏—Ü –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
   - 0 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑–≤–ª–µ—á–µ–Ω–æ
   - 0 —Ä–∞–∑–¥–µ–ª–æ–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ

2. **–ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**:
   - –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫–æ–ª–æ–Ω–∫–∏ `content_type` –≤ —Ç–∞–±–ª–∏—Ü–µ `checkable_elements`
   - –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –∫–æ–ª–æ–Ω–∫–∞ `processing_metadata` –≤ —Ç–∞–±–ª–∏—Ü–µ `checkable_documents`
   - –û—à–∏–±–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

3. **–ù–µ–ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑**:
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω, –Ω–æ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 0 –Ω–∞—Ä—É—à–µ–Ω–∏–π (–∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö)
   - –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: "warning" (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- –ù–∞–π–¥–µ–Ω –¥–æ–∫—É–º–µ–Ω—Ç –≤ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∞–ø–∫–∞—Ö
- –ó–∞–≥—Ä—É–∂–µ–Ω –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ API
- –ü—Ä–æ–≤–µ—Ä–µ–Ω —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
```sql
-- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏
ALTER TABLE checkable_elements ADD COLUMN content_type character varying(50);
ALTER TABLE checkable_documents ADD COLUMN processing_metadata jsonb;
```

### 3. –ó–∞–ø—É—Å–∫ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
- –°–±—Ä–æ—à–µ–Ω —Å—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞ "pending"
- –ó–∞–ø—É—â–µ–Ω –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- –û—Ç—Å–ª–µ–∂–µ–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞:
```json
{
  "hierarchical_result": {
    "project_info": {},
    "norm_compliance_summary": {
      "findings": [],
      "page_sizes": [],
      "total_pages": 0,
      "document_set": "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è",
      "relevant_ntd": [
        "–ì–û–°–¢ 21.501-2018",
        "–ì–û–°–¢ –† 21.101-2020"
      ],
      "info_findings": 0,
      "project_stage": "–†–∞–±–æ—á–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è",
      "total_findings": 0,
      "compliant_pages": 0,
      "warning_findings": 0,
      "critical_findings": 0,
      "compliance_percentage": 0
    },
    "sections_analysis": {
      "sections": [],
      "total_sections": 0,
      "section_analysis": {
        "title_section": null,
        "details_sections": [],
        "general_data_section": null,
        "main_content_sections": [],
        "specification_sections": []
      },
      "general_data_analysis": null,
      "detailed_sections_analysis": {
        "total_sections": 0,
        "sections_analysis": [],
        "overall_compliance": "unknown"
      }
    },
    "overall_status": "warning",
    "execution_time": 0
  }
}
```

### –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

#### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:
1. **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –∏ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è
2. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ù–¢–î**: 
   - –ì–û–°–¢ 21.501-2018
   - –ì–û–°–¢ –† 21.101-2020
3. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å—Ç–∞–¥–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: –†–∞–±–æ—á–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
4. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω –∫–æ–º–ø–ª–µ–∫—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

#### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
1. **–ù–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: 0 —Å—Ç—Ä–∞–Ω–∏—Ü, 0 —Ä–∞–∑–¥–µ–ª–æ–≤, 0 –Ω–∞—Ä—É—à–µ–Ω–∏–π
2. **–ù–µ–ø–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –±—ã–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑–æ–±—Ä–∞–Ω
3. **–°—Ç–∞—Ç—É—Å "warning"**: –°–∏—Å—Ç–µ–º–∞ –Ω–µ —Å–º–æ–≥–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
```
2025-09-15 19:52:24,187 - ERROR - First page not found for document 54229907
2025-09-15 19:52:24,191 - INFO - Total pages to check: 0
2025-09-15 19:52:24,194 - WARNING - '–û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ' page not found, using page 4 as default
2025-09-15 19:52:24,195 - INFO - Detailed analysis completed. Overall compliance: unknown
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 0.01 —Å–µ–∫—É–Ω–¥—ã
- **–≠—Ç–∞–ø 1 (–ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã)**: 0.00s
- **–≠—Ç–∞–ø 2 (–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–æ—Ä–º–∞–º)**: 0.00s
- **–≠—Ç–∞–ø 3 (–ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–¥–µ–ª–æ–≤)**: 0.00s
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: 0.00s

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

### 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞
ls -la uploads/ | grep "3401"

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
curl -X POST "http://localhost:8001/upload/checkable" \
  -F "file=@tests/TestDocs/for_check/3401-21089-–†–î-01-220-221-–ê–†_4_0_RU_IFC (1).pdf" \
  -F "category=normative"
```

### 2. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### A. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤
- –£–ª—É—á—à–∏—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ PDF
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### B. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- –£–ª—É—á—à–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø—Ä–æ–±–ª–µ–º

#### C. –£–ª—É—á—à–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- **–î–æ–∫—É–º–µ–Ω—Ç**: –ó–∞–≥—Ä—É–∂–µ–Ω –≤ —Å–∏—Å—Ç–µ–º—É, –Ω–æ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
- **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å**: –í—ã–ø–æ–ª–Ω–µ–Ω, –Ω–æ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–°–∏—Å—Ç–µ–º–∞**: –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: –î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –±—ã–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑–æ–±—Ä–∞–Ω
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–ª–æ–Ω–∫–∏
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ**: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
2. **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ**: –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ**: –í–Ω–µ–¥—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –∏ —É–ª—É—á—à–∏—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
curl -s "http://localhost:8001/checkable-documents" | jq '.documents[] | select(.id == 54229907)'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—á–µ—Ç–∞
curl -s "http://localhost:8001/checkable-documents/54229907/report" | jq '.'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞
docker exec ai-nk-norms-db-1 psql -U norms_user -d norms_db -c "SELECT COUNT(*) FROM checkable_elements WHERE checkable_document_id = 54229907;"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs ai-nk-document-parser-1 --tail 100 | grep "54229907"
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```sql
-- –¢–∞–±–ª–∏—Ü–∞ checkable_documents
CREATE TABLE checkable_documents (
    id SERIAL PRIMARY KEY,
    filename VARCHAR(255) NOT NULL,
    original_filename VARCHAR(255) NOT NULL,
    file_type VARCHAR(20) NOT NULL,
    file_size BIGINT NOT NULL,
    upload_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    processing_status VARCHAR(50) DEFAULT 'pending',
    processing_error TEXT,
    document_hash VARCHAR(64),
    category VARCHAR(50) DEFAULT 'other',
    review_deadline TIMESTAMP NOT NULL,
    review_status VARCHAR(50) DEFAULT 'pending',
    assigned_reviewer VARCHAR(100),
    review_notes TEXT,
    processing_metadata JSONB,  -- –î–æ–±–∞–≤–ª–µ–Ω–æ
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –¢–∞–±–ª–∏—Ü–∞ checkable_elements
CREATE TABLE checkable_elements (
    id SERIAL PRIMARY KEY,
    checkable_document_id INTEGER REFERENCES checkable_documents(id) ON DELETE CASCADE,
    element_type VARCHAR(50) NOT NULL,
    element_content TEXT,
    element_metadata JSONB,
    page_number INTEGER,
    bounding_box JSONB,
    confidence_score DOUBLE PRECISION DEFAULT 1.0,
    content_type VARCHAR(50),  -- –î–æ–±–∞–≤–ª–µ–Ω–æ
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

–°–∏—Å—Ç–µ–º–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è –ø–æ–ª–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞.

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —É–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–º –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ "3401-21089-–†–î-01-220-221-–ê–†_4_0_RU_IFC (1).pdf"

#### üìÑ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ:
- **–ò–º—è —Ñ–∞–π–ª–∞**: 3401-21089-–†–î-01-220-221-–ê–†_4_0_RU_IFC (1).pdf
- **–†–∞–∑–º–µ—Ä**: 13.76 –ú–ë
- **–•—ç—à —Ñ–∞–π–ª–∞**: 5246718e44afee7a...
- **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞**: 0.024 —Å–µ–∫

#### üìã –ê–Ω–∞–ª–∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞:
- **–ù–æ–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞**: 3401-21089
- **–¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞**: architectural_drawing (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è)
- **–ú–∞—Ä–∫–∞**: –ê–†
- **–†–µ–≤–∏–∑–∏—è**: 4
- **–Ø–∑—ã–∫**: RU
- **–§–æ—Ä–º–∞—Ç**: IFC
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è**: 100.0%

#### üìÑ –ê–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:
- **–ï—Å—Ç—å —à—Ç–∞–º–ø**: –î–∞
- **–ï—Å—Ç—å –º–∞—Å—à—Ç–∞–±**: –î–∞
- **–ï—Å—Ç—å —Ä–∞–∑–º–µ—Ä—ã**: –ù–µ—Ç
- **–ï—Å—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã**: –î–∞
- **–ï—Å—Ç—å –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏**: –î–∞
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è**: ['has_stamp', 'has_scale']

#### üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:
- **–û—Ü–µ–Ω–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü**: 96
- **–¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞**: architectural_drawing
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: 13.76 –ú–ë
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è**: ['has_stamp', 'has_scale']

#### üìä –û–±—â–∏–π –∞–Ω–∞–ª–∏–∑:
- **–í—Å–µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü**: 96
- **–û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è**: 100.0%
- **–°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å**: 50.0%
- **–í—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º**: 0
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö**: 0
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π**: 0
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö**: 0

#### üìÑ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü:
- **title_page**: 1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- **text_page**: 95 —Å—Ç—Ä–∞–Ω–∏—Ü

#### ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
- **ID –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 3401-21089
- **–°—Ç–∞—Ç—É—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è**: compliant
- **–ï—Å—Ç—å —á–µ—Ä—Ç–µ–∂–∏**: –ù–µ—Ç
- **–ï—Å—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏**: –ù–µ—Ç
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º**: 0

#### üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤—ã—Ö 3 —Å—Ç—Ä–∞–Ω–∏—Ü:

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1:**
- **–¢–∏–ø**: title_page
- **–°–∏–º–≤–æ–ª–æ–≤**: 18
- **–°–ª–æ–≤**: 2
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å**: 50.0%

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ 2:**
- **–¢–∏–ø**: text_page
- **–°–∏–º–≤–æ–ª–æ–≤**: 12
- **–°–ª–æ–≤**: 2
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å**: 50.0%

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ 3:**
- **–¢–∏–ø**: text_page
- **–°–∏–º–≤–æ–ª–æ–≤**: 6
- **–°–ª–æ–≤**: 2
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å**: 50.0%

### üéØ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞

#### –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä vs –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä | –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å |
|----------|-------------------------|------------------------|
| **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü** | 96 | 0 |
| **–ò–∑–≤–ª–µ—á–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** | –î–∞ (—à—Ç–∞–º–ø—ã, –º–∞—Å—à—Ç–∞–±—ã) | 0 |
| **–û–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞** | –ê–† (100% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å) | –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è |
| **–û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è** | 100% | 0% |
| **–ù–∞–π–¥–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º** | 0 | 0 |
| **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞** | 0.024 —Å–µ–∫ | 0.01 —Å–µ–∫ |

#### üîç –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è:

1. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü**:
   - –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä: 96 —Å—Ç—Ä–∞–Ω–∏—Ü
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å: 0 —Å—Ç—Ä–∞–Ω–∏—Ü

2. **–¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞**:
   - –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–ê–†)
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

3. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**:
   - –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä: –£—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ–∫ —à—Ç–∞–º–ø—ã, –º–∞—Å—à—Ç–∞–±—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å: –ù–µ —Å–º–æ–≥ –∏–∑–≤–ª–µ—á—å –∫–æ–Ω—Ç–µ–Ω—Ç

### üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è

#### 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä** –≤ –ø—Ä–æ—Ü–µ—Å—Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** —É–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏

#### 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:
- **–£–ª—É—á—à–∏—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** –∏–∑ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é** –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã** –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏

#### 3. –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- **–°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π API** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
- **–î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

### üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º—É –∞–Ω–∞–ª–∏–∑—É

–£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ–∫–∞–∑–∞–ª **–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è:

- ‚úÖ **–£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–ª** –≤—Å–µ 96 —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞
- ‚úÖ **–¢–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–ª** —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–ê–†)
- ‚úÖ **–ò–∑–≤–ª–µ–∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** (—à—Ç–∞–º–ø—ã, –º–∞—Å—à—Ç–∞–±—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã)
- ‚úÖ **–ü—Ä–æ–≤–µ–ª –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–æ—Ä–º–∞–º

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –≤ —Å–∏—Å—Ç–µ–º—É –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

---

*–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω —É–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–º –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ AI-NK v1.0.0*
