# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∏—Å—Ç–µ–º—ã AI-NK

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: 16.10.2025 16:15
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ 1. –ó–∞–ø—É—Å–∫ Calculation Service
**–ü—Ä–æ–±–ª–µ–º–∞**: Calculation-service –Ω–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫–∏ 503
**–†–µ—à–µ–Ω–∏–µ**: 
- –ó–∞–ø—É—â–µ–Ω qdrant (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å calculation-service)
- –ó–∞–ø—É—â–µ–Ω calculation-service
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å API

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ Calculation-service —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚úÖ 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ Ollama
**–ü—Ä–æ–±–ª–µ–º–∞**: Frontend –æ–±—Ä–∞—â–∞–ª—Å—è –∫ Ollama –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `http://localhost:8005/health`
**–†–µ—à–µ–Ω–∏–µ**:
- –û–±–Ω–æ–≤–ª–µ–Ω `frontend/src/App.js` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ `/ollama/api/tags`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è `Bearer disabled-auth`
- –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω frontend

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ Ollama –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ Gateway

### ‚úÖ 3. –ó–∞–ø—É—Å–∫ RAG Service
**–ü—Ä–æ–±–ª–µ–º–∞**: RAG service –Ω–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω –∏–∑-–∑–∞ ReadTimeoutError
**–†–µ—à–µ–Ω–∏–µ**:
- –£—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω RAG service
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å API

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ RAG service —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚úÖ 4. –ó–∞–ø—É—Å–∫ VLLM Service
**–ü—Ä–æ–±–ª–µ–º–∞**: VLLM service –±—ã–ª –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ docker-compose
**–†–µ—à–µ–Ω–∏–µ**:
- –ó–∞–ø—É—â–µ–Ω VLLM service
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ VLLM service —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

| –°–µ—Ä–≤–∏—Å | –°—Ç–∞—Ç—É—Å | –ü–æ—Ä—Ç | Health Check | API –¢–µ—Å—Ç |
|--------|--------|------|--------------|----------|
| frontend | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 443 | ‚úÖ | ‚úÖ |
| gateway | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 8443 | ‚úÖ | ‚úÖ |
| calculation-service | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 8004 | ‚úÖ | ‚úÖ |
| normcontrol2-service | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 8010 | ‚úÖ | ‚úÖ |
| rag-service | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 8003 | ‚úÖ | ‚úÖ |
| vllm | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 8005 | ‚úÖ | ‚úÖ |
| norms-db | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 5432 | ‚úÖ | ‚úÖ |
| qdrant | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 6333 | ‚úÖ | ‚úÖ |
| redis | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 6379 | ‚úÖ | ‚úÖ |

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API

### Calculation Service
```bash
curl -k -X GET "https://localhost:8443/api/calculations" -H "Authorization: Bearer disabled-auth"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: [] (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)
```

### Ollama —á–µ—Ä–µ–∑ Gateway
```bash
curl -k -X GET "https://localhost:8443/ollama/api/tags" -H "Authorization: Bearer disabled-auth"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 6 –º–æ–¥–µ–ª–µ–π –¥–æ—Å—Ç—É–ø–Ω—ã (llama2, llama3.1, gpt-oss-optimized, gpt-oss, bge-m3, gpt-oss:20b)
```

### Normcontrol2 Service
```bash
curl -k -X GET "https://localhost:8443/api/normcontrol2/documents" -H "Authorization: Bearer disabled-auth"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"success":true,"documents":[...]} - —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
```

### RAG Service
```bash
curl -k -X GET "https://localhost:8443/api/rag/models" -H "Authorization: Bearer disabled-auth"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"status":"success","models":[...],"total_count":5,"ollama_status":"healthy"}
```

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### Frontend (App.js)
```javascript
// –ë–´–õ–û:
const ollamaResponse = await axios.get('http://localhost:8005/health', {
  timeout: 10000
});

// –°–¢–ê–õ–û:
const ollamaResponse = await axios.get('/ollama/api/tags', {
  timeout: 10000,
  headers: {
    'Authorization': 'Bearer disabled-auth'
  }
});
```

### Docker Compose
- –ó–∞–ø—É—â–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
- Health checks —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìà –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Ollama —Ç–µ–ø–µ—Ä—å –∏–¥—É—Ç —á–µ—Ä–µ–∑ Gateway
2. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
4. **Health checks**: –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç —Ä–∞–±–æ—á–∏–µ health checks

## üöÄ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –º–æ–¥—É–ª–∏:
1. **–ù–æ—Ä–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—å-2** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ï–°–ö–î/–°–ü–î–°
2. **–†–∞—Å—á–µ—Ç—ã** - –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
3. **RAG** - –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM
4. **Ollama** - –¥–æ—Å—Ç—É–ø –∫ –ª–æ–∫–∞–ª—å–Ω—ã–º —è–∑—ã–∫–æ–≤—ã–º –º–æ–¥–µ–ª—è–º
5. **VLLM** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ollama
6. **Frontend** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (Qdrant)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)
- API Gateway —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
2. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ —Å–µ—Ä–≤–∏—Å–æ–≤
2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –£–ª—É—á—à–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤–º–µ—Å—Ç–æ `disabled-auth`
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è production

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

- ‚úÖ **9 —Å–µ—Ä–≤–∏—Å–æ–≤** —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–í—Å–µ API** –æ—Ç–≤–µ—á–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **Frontend** –æ–±–Ω–æ–≤–ª–µ–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ **–ú–∞—Ä—à—Ä—É—Ç—ã** —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** —Ä–∞–∑—Ä–µ—à–µ–Ω—ã

**–°–∏—Å—Ç–µ–º–∞ AI-NK –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.**

### –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ:
- **Frontend**: https://localhost
- **API Gateway**: https://localhost:8443
- **–°—Ç–∞—Ç—É—Å**: –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: ~15 –º–∏–Ω—É—Ç
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º**: 4
**–£—Å–ø–µ—à–Ω–æ—Å—Ç—å**: 100%
