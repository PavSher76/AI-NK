# üöÄ AI-NK —Å Llama3.1:70b –¥–ª—è MacBook Pro

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç AI-NK —Å –º–æ—â–Ω–æ–π –º–æ–¥–µ–ª—å—é **Llama3.1:70b** –Ω–∞ MacBook Pro.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è 70b –º–æ–¥–µ–ª–∏:
- **RAM:** 32GB (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
- **CPU:** 10+ —è–¥–µ—Ä (M2 Pro/Max –∏–ª–∏ Intel i7/i9)
- **–î–∏—Å–∫:** 100GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ (SSD)
- **macOS:** 13.0+
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ (~40GB)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **RAM:** 64GB+ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **CPU:** M2 Max/M3 Max –∏–ª–∏ Intel i9
- **–î–∏—Å–∫:** 200GB+ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Apple Silicon (ARM64) –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏
sysctl -n hw.memsize | awk '{print $0/1024/1024/1024 "GB"}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
uname -m

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
df -h .
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã —Å 70b

```bash
# –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å 70b –º–æ–¥–µ–ª—å—é
./setup_macbook_70b.sh
```

**–í–Ω–∏–º–∞–Ω–∏–µ:** –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –∑–∞–π–º–µ—Ç 30-60 –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞!

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | RAM | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | –ö–∞—á–µ—Å—Ç–≤–æ |
|--------|--------|-----|--------------|----------|
| llama3.1:8b | ~4.7GB | 16GB | 1-3 —Å–µ–∫ | –•–æ—Ä–æ—à–µ–µ |
| llama3.1:70b | ~40GB | 32GB+ | 5-15 —Å–µ–∫ | –û—Ç–ª–∏—á–Ω–æ–µ |

## ‚öôÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è 70b

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–º—è—Ç–∏
```bash
# –î–ª—è 32GB RAM
OLLAMA_MEMORY_LIMIT=24G
OLLAMA_MEMORY_RESERVATION=20G

# –î–ª—è 64GB+ RAM
OLLAMA_MEMORY_LIMIT=32G
OLLAMA_MEMORY_RESERVATION=28G
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è 70b
OLLAMA_GPU_LAYERS=40
OLLAMA_CPU_THREADS=12
OLLAMA_BATCH_SIZE=1024
OLLAMA_CONTEXT_SIZE=8192
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 70b —Å–∏—Å—Ç–µ–º–æ–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã —Å 70b
./setup_macbook_70b.sh

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
./setup_macbook_70b.sh stop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
./setup_macbook_70b.sh restart

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
./setup_macbook_70b.sh logs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./setup_macbook_70b.sh status

# –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
./setup_macbook_70b.sh test
```

### Docker Compose –∫–æ–º–∞–Ω–¥—ã –¥–ª—è 70b

```bash
# –ó–∞–ø—É—Å–∫ —Å 70b –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
docker-compose -f docker-compose.macbook.70b.yaml up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose -f docker-compose.macbook.70b.yaml down

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.macbook.70b.yaml logs -f ollama

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose -f docker-compose.macbook.70b.yaml build --no-cache
```

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

| –°–µ—Ä–≤–∏—Å | URL | –õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å |
|--------|-----|--------------|
| **Frontend** | https://localhost | - |
| **Keycloak** | https://localhost:8081 | admin/admin |
| **Grafana** | http://localhost:3000 | admin/admin |
| **Ollama** | http://localhost:11434 | - |

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker stats

# –õ–æ–≥–∏ Ollama —Å 70b –º–æ–¥–µ–ª—å—é
docker-compose -f docker-compose.macbook.70b.yaml logs -f ollama

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏
curl http://localhost:11434/api/tags
```

### –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | –¢–æ–∫–µ–Ω–æ–≤/—Å–µ–∫ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ |
|--------------|--------------|-------------|---------------------|
| M2 Pro (32GB) | 5-10 —Å–µ–∫ | 8-15 | 24-28GB |
| M2 Max (64GB) | 3-7 —Å–µ–∫ | 12-20 | 28-32GB |
| M3 Max (128GB) | 2-5 —Å–µ–∫ | 15-25 | 32-40GB |

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é

```bash
# –£–º–µ–Ω—å—à–∏—Ç–µ –ª–∏–º–∏—Ç—ã –ø–∞–º—è—Ç–∏
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ env.macbook.70b:
OLLAMA_MEMORY_LIMIT=20G
OLLAMA_MEMORY_RESERVATION=16G
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
# –ú–æ–¥–µ–ª—å 70b –≤–µ—Å–∏—Ç ~40GB
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
curl http://localhost:11434/api/tags
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

```bash
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã
./optimize_performance.sh

# –£–≤–µ–ª–∏—á—å—Ç–µ GPU —Å–ª–æ–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏)
OLLAMA_GPU_LAYERS=45

# –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é)
OLLAMA_BATCH_SIZE=512
```

### –û—à–∏–±–∫–∏ –∑–∞–ø—É—Å–∫–∞

```bash
# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
./setup_macbook_70b.sh clean
./setup_macbook_70b.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
./setup_macbook_70b.sh logs
```

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏

### –° 8b –Ω–∞ 70b

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É
./setup_macbook.sh stop

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å 70b
./setup_macbook_70b.sh
```

### –° 70b –Ω–∞ 8b

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ 70b —Å–∏—Å—Ç–µ–º—É
./setup_macbook_70b.sh stop

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å 8b
./setup_macbook.sh
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ú–æ–¥–µ–ª—å | Env —Ñ–∞–π–ª | Docker Compose | –°–∫—Ä–∏–ø—Ç |
|--------|----------|----------------|--------|
| 8b | `env.macbook` | `docker-compose.macbook.yaml` | `setup_macbook.sh` |
| 70b | `env.macbook.70b` | `docker-compose.macbook.70b.yaml` | `setup_macbook_70b.sh` |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

| –°–µ—Ä–≤–∏—Å | 8b –º–æ–¥–µ–ª—å | 70b –º–æ–¥–µ–ª—å |
|--------|-----------|------------|
| Ollama | 12GB/8GB | 24GB/20GB |
| vLLM | 2GB/1GB | 4GB/2GB |
| Gateway | 1GB/512MB | 1GB/512MB |
| PostgreSQL | 2GB/1GB | 2GB/1GB |

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **llama3.1:8b** - –±—ã—Å—Ç—Ä–µ–µ, –º–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏ —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –∑–∞–¥–∞—á
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **llama3.1:70b** - –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤, –Ω–æ –¥–∞–µ—Ç –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
./optimize_performance.sh

# –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è 70b
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ env.macbook.70b –ø–æ–¥ –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏

```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏
curl http://localhost:8000/model-info

# –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
curl -X POST http://localhost:11434/api/generate \
  -H "Content-Type: application/json" \
  -d '{
    "model": "llama3.1:70b",
    "prompt": "Hello, how are you?",
    "stream": false,
    "options": {
      "num_predict": 50,
      "temperature": 0.7
    }
  }'
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Grafana

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –õ–æ–≥–∏–Ω: admin/admin
3. –î–∞—à–±–æ—Ä–¥ "AI-NK Dashboard" –ø–æ–∫–∞–∂–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
4. –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —É–¥–µ–ª–∏—Ç–µ –º–µ—Ç—Ä–∏–∫–∞–º Ollama –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–∞–º—è—Ç–∏

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ RAM (32GB+)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:** `./setup_macbook_70b.sh logs`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:** `./setup_macbook_70b.sh status`
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:** `./setup_macbook_70b.sh test`
5. **–û—á–∏—Å—Ç–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:** `./setup_macbook_70b.sh clean && ./setup_macbook_70b.sh`

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏:** –ú–æ–¥–µ–ª—å 70b –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è 30-60 –º–∏–Ω—É—Ç
- **–ü–∞–º—è—Ç—å:** –°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ RAM
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:** MacBook –º–æ–∂–µ—Ç –Ω–∞–≥—Ä–µ–≤–∞—Ç—å—Å—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å 70b
- **–ë–∞—Ç–∞—Ä–µ—è:** –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –æ—Ç –±–∞—Ç–∞—Ä–µ–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç —Å–Ω–∏–∂–∞—Ç—å—Å—è

---

**–ì–æ—Ç–æ–≤–æ!** –í–∞—à AI-NK –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ—â–Ω–æ–π –º–æ–¥–µ–ª—å—é Llama3.1:70b! üéâ

> üí° **–°–æ–≤–µ—Ç:** –î–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ MacBook –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º –∫ —Å–µ—Ç–∏ –∏ —Å —Ö–æ—Ä–æ—à–∏–º –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ–º.
