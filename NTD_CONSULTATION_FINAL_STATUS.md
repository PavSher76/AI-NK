# –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ù–¢–î

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

**–ú–æ–¥–µ–ª—å BGE-M3 –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!** –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ù–¢–î –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞.

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `user_id` –≤ –∑–∞–ø—Ä–æ—Å—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
### 2. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ù–¢–î –≤ RAG —Å–µ—Ä–≤–∏—Å–µ
### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
### 4. –ú–æ–¥–µ–ª—å BGE-M3 —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
curl -X POST "https://localhost/api/ntd-consultation/chat" \
  -H "Content-Type: application/json" \
  -d '{"message": "–î–∞–π –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –ì–û–°–¢ 21.201-2011", "user_id": "default_user", "history": []}' \
  -k
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "success",
  "response": "–ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∏—Å–∫–∞ –≤ –±–∞–∑–µ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –≤–æ—Ç —á—Ç–æ —è –Ω–∞—à–µ–ª:\n\nüìÑ **–ì–û–°–¢ 21.201-2011** - –ì–û–°–¢ 21.201-2011 –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–°–ü–î–°). –£—Å–ª–æ–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ..._–¢–µ–∫—Å—Ç.pdf\n–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: –ì–û–°–¢ 21.201-2011 –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–°–ü–î–°). –£—Å–ª–æ–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–¥–∞–Ω–∏–π, —Å–æ–æ—Ä—É–∂–µ–Ω–∏–π –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –ù–∞—Å—Ç–æ—è—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É—Å–ª–æ–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–¥–∞–Ω–∏–π, —Å–æ–æ—Ä—É–∂–µ–Ω–∏–π –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª...\n\n\n–ù–∞–π–¥–µ–Ω–æ 1 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∏–∑ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.",
  "sources": [
    {
      "title": "–ì–û–°–¢ 21.201-2011 –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–°–ü–î–°). –£—Å–ª–æ–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ..._–¢–µ–∫—Å—Ç.pdf",
      "code": "–ì–û–°–¢ 21.201-2011",
      "content": "–ì–û–°–¢ 21.201-2011 –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–°–ü–î–°). –£—Å–ª–æ–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–¥–∞–Ω–∏–π, —Å–æ–æ—Ä—É–∂–µ–Ω–∏–π –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –ù–∞—Å—Ç–æ—è—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É—Å–ª–æ–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ...",
      "page": 1,
      "score": -0.018596098
    }
  ],
  "confidence": 0.1,
  "documents_used": 1,
  "timestamp": "2025-08-30T22:23:27.021659"
}
```

## üöÄ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ú–æ–¥–µ–ª—å BGE-M3 –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç `/api/ntd-consultation/chat` –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
- ‚úÖ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ù–¢–î –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

### üìä –ù–∞–π–¥–µ–Ω–æ –≤ –±–∞–∑–µ:
- **1 –¥–æ–∫—É–º–µ–Ω—Ç**: –ì–û–°–¢ 21.201-2011
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã**: –Ω–∞–π–¥–µ–Ω—ã
- **–ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å BGE-M3

## üéØ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://localhost`
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É (admin/admin)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ù–¢–î"
4. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: "–î–∞–π –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –ì–û–°–¢ 21.201-2011"

### 2. –ß–µ—Ä–µ–∑ curl:
```bash
curl -X POST "https://localhost/api/ntd-consultation/chat" \
  -H "Content-Type: application/json" \
  -d '{"message": "–î–∞–π –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –ì–û–°–¢ 21.201-2011", "user_id": "default_user", "history": []}' \
  -k
```

### 3. –î—Ä—É–≥–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã:
- "–ß—Ç–æ —Ç–∞–∫–æ–µ –ì–û–°–¢ 21.201-2011?"
- "–ö–∞–∫–∏–µ —É—Å–ª–æ–≤–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ì–û–°–¢ 21.201-2011?"
- "–û–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ì–û–°–¢ 21.201-2011"

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢

–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ù–¢–î —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

- ‚úÖ –ú–æ–¥–µ–ª—å BGE-M3 –∑–∞–≥—Ä—É–∂–µ–Ω–∞
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–∞–π–¥–µ–Ω—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
