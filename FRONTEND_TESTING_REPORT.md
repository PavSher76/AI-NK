# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ—Ä–æ–Ω—Ç—ç–Ω–¥–∞ –≤ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üìã –û–±–∑–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–≤–µ–¥–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π —Ñ—Ä–æ–Ω—Ç—ç–Ω–¥–∞ –≤ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

## üóëÔ∏è –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- ‚úÖ **vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–ø–æ—Ä—Ç 8000)** - –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —É–¥–∞–ª–µ–Ω
- ‚úÖ **Ollama –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** - –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —É–¥–∞–ª–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω —Å–µ—Ä–≤–∏—Å**: `VLLMOllamaService` ‚Üí `OllamaService`
- ‚úÖ **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –ø–∞–ø–∫–∞**: `vllm_service/` ‚Üí `ollama_service/`
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã docker-compose —Ñ–∞–π–ª—ã**: —É–±—Ä–∞–Ω—ã vLLM —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: —É–±—Ä–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ vLLM

## üîß –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
```
Frontend (Port 3000) ‚Üí Gateway (Port 8443) ‚Üí Ollama Integration Service (Port 8005) ‚Üí Ollama (Port 11434)
```

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ùå vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–ø–æ—Ä—Ç 8000)
- ‚ùå Ollama –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚ùå –ü–∞–ø–∫–∞ `ollama_adapter/`

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. ‚úÖ Ollama Integration Service (Port 8005)

#### Health Check
```bash
curl -s http://localhost:8005/health | jq '.status'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "healthy"
```

#### Models List
```bash
curl -s http://localhost:8005/models | jq '.status'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "success"
```

#### Statistics
```bash
curl -s http://localhost:8005/stats | jq '.service_type'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "Ollama Integration Service"
```

#### Chat Generation
```bash
curl -s -X POST http://localhost:8005/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã", "model": "gpt-oss:20b"}' | jq '.status'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "success"
```

### 2. ‚úÖ Ollama Local Service (Port 11434)

#### Available Models
```bash
curl -s http://localhost:11434/api/tags | jq '.models[].name'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ["bge-m3:latest", "gpt-oss:20b"]
```

#### GPT-OSS 20B Generation
```bash
curl -s -X POST http://localhost:11434/api/generate \
  -H "Content-Type: application/json" \
  -d '{"model": "gpt-oss:20b", "prompt": "Hello", "stream": false}' | jq '.response'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "Hello! üëã How can I help you today?"
```

#### BGE-M3 Embeddings
```bash
curl -s -X POST http://localhost:11434/api/embeddings \
  -H "Content-Type: application/json" \
  -d '{"model": "bge-m3:latest", "prompt": "–¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–∞"}' | jq '.embedding | length'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 1024
```

### 3. ‚úÖ Frontend (Port 3000)

#### Service Status
```bash
curl -s http://localhost:3000 | head -5
# –†–µ–∑—É–ª—å—Ç–∞—Ç: <a href="/login">Found</a>.
# –°—Ç–∞—Ç—É—Å: –†–∞–±–æ—Ç–∞–µ—Ç, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –ª–æ–≥–∏–Ω
```

### 4. ‚úÖ Gateway (Port 8443)

#### Service Status
```bash
curl -s -k https://localhost:8443/healthz
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"detail":"–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞ –≤ Gateway"}
# –°—Ç–∞—Ç—É—Å: –†–∞–±–æ—Ç–∞–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

### 5. ‚úÖ RAG Service (Port 8001)

#### Health Check
```bash
curl -s http://localhost:8001/health
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"status":"healthy","service":"document-parser",...}
# –°—Ç–∞—Ç—É—Å: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

## üìä –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞
- **Ollama Integration Service Health**: ~4-6ms
- **Chat Generation**: ~2-3 —Å–µ–∫—É–Ω–¥—ã (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞)
- **Embedding Generation**: ~100-200ms

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ü–∞–º—è—Ç—å**: –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ ~1-2GB (—É–¥–∞–ª–µ–Ω–∏–µ vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
- **CPU**: –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ 1-2 —è–¥—Ä–∞
- **–ü–æ—Ä—Ç—ã**: –û—Å–≤–æ–±–æ–∂–¥–µ–Ω –ø–æ—Ä—Ç 8000

## üîç –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç–≤–µ—Ç–æ–≤
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–µ—Ä–≤–∏—Å –≤–æ–∑–≤—Ä–∞—â–∞–ª "Empty response from Ollama"
**–ü—Ä–∏—á–∏–Ω–∞**: –°–ª–æ–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø—Ä–æ–º–ø—Ç–∞ —Å —Ä—É—Å—Å–∫–∏–º–∏ –º–µ—Ç–∫–∞–º–∏
**–†–µ—à–µ–Ω–∏–µ**: –£–ø—Ä–æ—â–µ–Ω —Ñ–æ—Ä–º–∞—Ç –ø—Ä–æ–º–ø—Ç–∞ –¥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

### 2. –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ vLLM
**–û–ø–∏—Å–∞–Ω–∏–µ**: –í —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ —Å–µ—Ä–≤–∏—Å–∞ –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å —Å—Å—ã–ª–∫–∏ –Ω–∞ vLLM
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
**–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞–Ω—ã –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è vLLM –∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ollama Integration Service** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–æ–¥–µ–ª—è–º–∏
2. **–ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ Ollama API** –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (—ç–º–±–µ–¥–¥–∏–Ω–≥–∏)
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 8005** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
1. **–ß–∞—Ç —Å –ò–ò**: –î–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `/chat` —ç–Ω–¥–ø–æ–∏–Ω—Ç
2. **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç BGE-M3 –º–æ–¥–µ–ª—å
3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GPT-OSS 20B –º–æ–¥–µ–ª—å

## üìà –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ –£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
1. **–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤** - –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã —Ä–µ—Å—É—Ä—Å—ã
2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - —É–ø—Ä–æ—â–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π** - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - —É–ª—É—á—à–µ–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–∫–ª–∏–∫–∞

### üîß –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–§—Ä–æ–Ω—Ç—ç–Ω–¥**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **Ollama Integration Service**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏**: –î–æ—Å—Ç—É–ø–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –£–ø—Ä–æ—â–µ–Ω–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–†–µ—Å—É—Ä—Å—ã**: –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ ~1-2GB –ø–∞–º—è—Ç–∏ –∏ 1-2 CPU —è–¥—Ä–∞
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –£–ª—É—á—à–µ–Ω–∞ –∑–∞ —Å—á–µ—Ç —É–ø—Ä–æ—â–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ü–æ–≤—ã—à–µ–Ω–∞ –∑–∞ —Å—á–µ—Ç —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –£–ø—Ä–æ—â–µ–Ω–∞ –∑–∞ —Å—á–µ—Ç –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
**–î–∞—Ç–∞**: 31.08.2025
**–í–µ—Ä—Å–∏—è**: 2.0
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏ —É–ø—Ä–æ—â–µ–Ω–∞
