# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ RAG —Å–µ—Ä–≤–∏—Å–µ

## üîç –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ **–ú–æ–¥–µ–ª—å BGE-M3 –∑–∞–≥—Ä—É–∂–µ–Ω–∞** –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Qdrant —Ä–∞–±–æ—Ç–∞–µ—Ç** (2 —Ç–æ—á–∫–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏)
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞** (9 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ `uploaded_documents`)
- ‚úÖ **RAG —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç** –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ù–¢–î —Ä–∞–±–æ—Ç–∞–µ—Ç** (–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)

### ‚ùå –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. **–î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ —á–∞–Ω–∫–∏**
- **–°—Ç–∞—Ç—É—Å**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞
- **–î–µ—Ç–∞–ª–∏**: –í —Ç–∞–±–ª–∏—Ü–µ `normative_chunks` —Ç–æ–ª—å–∫–æ 1 —á–∞–Ω–∫ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ID 11
- **–í–ª–∏—è–Ω–∏–µ**: –ü–æ–∏—Å–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

#### 2. **–î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã**
- **–°—Ç–∞—Ç—É—Å**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞  
- **–î–µ—Ç–∞–ª–∏**: –í—Å–µ 9 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–º–µ—é—Ç —Å—Ç–∞—Ç—É—Å `pending`
- **–í–ª–∏—è–Ω–∏–µ**: –î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ Qdrant

#### 3. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –°–ü 20.13330.2016**
- **–°—Ç–∞—Ç—É—Å**: –ü—Ä–æ–±–ª–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
- **–î–µ—Ç–∞–ª–∏**: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ
- **–í–ª–∏—è–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## üìä –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

### –î–æ–∫—É–º–µ–Ω—Ç—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
```sql
SELECT id, original_filename, category, processing_status FROM uploaded_documents;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ID 11: –ì–û–°–¢ 21.201-2011 (1 —á–∞–Ω–∫)
- ID 13: –ì–û–°–¢ 26047-2016 (0 —á–∞–Ω–∫–æ–≤)
- ID 18: –ì–û–°–¢ 2.306-68 (0 —á–∞–Ω–∫–æ–≤)
- ID 20: –ì–û–°–¢ 21.501-2018 (0 —á–∞–Ω–∫–æ–≤)
- ID 21: –ì–û–°–¢ 21.501-2018 (0 —á–∞–Ω–∫–æ–≤)
- ID 22: –ì–û–°–¢ 21.502-2016 (0 —á–∞–Ω–∫–æ–≤)
- ID 23: –ì–û–°–¢ 21.507-81 (0 —á–∞–Ω–∫–æ–≤)
- ID 24: –ì–û–°–¢ 21.508-2020 (0 —á–∞–Ω–∫–æ–≤)
- ID 25: –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ù–ö –ü–¢–ò.pdf (0 —á–∞–Ω–∫–æ–≤)

### –ß–∞–Ω–∫–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
```sql
SELECT document_id, chunk_id FROM normative_chunks;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Document ID 11: 1 —á–∞–Ω–∫ (`doc_11_chunk_1`)

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### 1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å document-parser
curl -X GET "http://localhost:8001/health"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç)
curl -X POST "http://localhost:8001/process-documents"
```

### 2. **–î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –°–ü 20.13330.2016**
- –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- –î–æ–∂–¥–∞—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é

### 3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
- –õ–æ–≥–∏ document-parser
- –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –û—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –Ω–∞ —á–∞–Ω–∫–∏

### 4. **–†—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```sql
-- –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
UPDATE uploaded_documents 
SET processing_status = 'pending' 
WHERE processing_status = 'error';
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ —á–∞–Ω–∫–∏
- ‚úÖ –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ Qdrant
- ‚úÖ –ü–æ–∏—Å–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ù–¢–î —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
3. **–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ù–¢–î**
